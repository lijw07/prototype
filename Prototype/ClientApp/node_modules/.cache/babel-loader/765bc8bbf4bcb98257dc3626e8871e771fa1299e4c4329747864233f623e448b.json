{"ast":null,"code":"import _objectSpread from\"/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Users,Search,Edit3,Trash2,Mail,Phone,Calendar,Shield,CheckCircle2,XCircle,MoreVertical,UserPlus,AlertCircle,Eye,EyeOff,Lock,Unlock,ChevronLeft,ChevronRight,ChevronsLeft,ChevronsRight,AlertTriangle}from'lucide-react';import{userApi,roleApi}from'../../services/api';import{authApi}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Accounts(){const[users,setUsers]=useState([]);const[roles,setRoles]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[filterRole,setFilterRole]=useState('all');const[showAddUser,setShowAddUser]=useState(false);const[userDetailModal,setUserDetailModal]=useState(null);const[showEditUser,setShowEditUser]=useState(false);const[editUserForm,setEditUserForm]=useState({userId:'',firstName:'',lastName:'',username:'',email:'',phoneNumber:'',role:'',isActive:true});const[editFormErrors,setEditFormErrors]=useState({});const[isEditSubmitting,setIsEditSubmitting]=useState(false);const[editSubmitSuccess,setEditSubmitSuccess]=useState(false);const[loading,setLoading]=useState(true);// Pagination state\nconst[currentPage,setCurrentPage]=useState(1);const[pageSize,setPageSize]=useState(4);const[totalCount,setTotalCount]=useState(0);const[totalPages,setTotalPages]=useState(0);// New User Form State\nconst[newUserForm,setNewUserForm]=useState({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:'',role:''});const[formErrors,setFormErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[showPassword,setShowPassword]=useState(false);const[showReEnterPassword,setShowReEnterPassword]=useState(false);const[submitSuccess,setSubmitSuccess]=useState(false);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[deletingUser,setDeletingUser]=useState(null);const[deleteSuccess,setDeleteSuccess]=useState(false);// ESC key handler for modal\nuseEffect(()=>{const handleEscKey=event=>{if(event.key==='Escape'&&showAddUser){resetAddUserModal();}};if(showAddUser){document.addEventListener('keydown',handleEscKey);}return()=>{document.removeEventListener('keydown',handleEscKey);};},[showAddUser]);// Load users and roles from database\nconst loadData=async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:currentPage;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:pageSize;setLoading(true);// Load users - this should always work regardless of roles\ntry{var _usersResponse$data;const usersResponse=await userApi.getAllUsers(page,size);if(usersResponse.success&&(_usersResponse$data=usersResponse.data)!==null&&_usersResponse$data!==void 0&&_usersResponse$data.data){const transformedUsers=usersResponse.data.data.map(user=>({userId:user.userId,firstName:user.firstName,lastName:user.lastName,username:user.username,email:user.email,phoneNumber:user.phoneNumber,isActive:user.isActive,role:user.role,lastLogin:user.lastLogin,createdAt:user.createdAt}));setUsers(transformedUsers);setCurrentPage(usersResponse.data.page||page);setPageSize(usersResponse.data.pageSize||size);setTotalCount(usersResponse.data.totalCount||0);setTotalPages(usersResponse.data.totalPages||1);}else if(usersResponse.success&&usersResponse.users){// Fallback for old API response format - use client-side pagination\nconst allTransformedUsers=usersResponse.users.map(user=>({userId:user.userId,firstName:user.firstName,lastName:user.lastName,username:user.username,email:user.email,phoneNumber:user.phoneNumber,isActive:user.isActive,role:user.role,lastLogin:user.lastLogin,createdAt:user.createdAt}));const startIndex=(page-1)*size;const endIndex=startIndex+size;const paginatedUsers=allTransformedUsers.slice(startIndex,endIndex);setUsers(paginatedUsers);// Set pagination values for non-paginated response\nsetTotalCount(allTransformedUsers.length);setTotalPages(Math.ceil(allTransformedUsers.length/size));setCurrentPage(page);setPageSize(size);}else{console.error('Failed to load users:',usersResponse.message);setUsers([]);}}catch(error){console.error('Error loading users:',error);setUsers([]);}// Load roles - independent of users\ntry{const rolesResponse=await roleApi.getAllRoles();if(rolesResponse.success&&rolesResponse.roles){setRoles(rolesResponse.roles);}else{console.error('Failed to load roles:',rolesResponse.message);setRoles([]);}}catch(error){console.error('Error loading roles:',error);setRoles([]);}setLoading(false);};// Smart refetch that handles empty pages after deletion  \nconst refetchUsers=async()=>{if(hasFilters){// For filtered view, reload all data and let frontend handle filtering\nawait loadData(1,100);// Load more data for filtering\n}else{var _response$data;// For paginated view, check if we need to adjust page\nconst response=await userApi.getAllUsers(currentPage,pageSize);if(response.success&&(_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.data){const newTotalPages=response.data.totalPages||1;const newTotalCount=response.data.totalCount||0;if(currentPage>newTotalPages&&newTotalCount>0){// Navigate to last available page\nsetCurrentPage(newTotalPages);await loadData(newTotalPages,pageSize);}else if(newTotalCount===0){// If no users at all, go to page 1\nsetCurrentPage(1);await loadData(1,pageSize);}else{// Current page is valid, just update data\nawait loadData(currentPage,pageSize);}}}};// Refetch and navigate to first page (where new items should appear)\nconst refetchAndGoToFirstPage=async()=>{setCurrentPage(1);await loadData(1,pageSize);};useEffect(()=>{loadData(1,pageSize);},[]);const filteredUsers=users.filter(user=>{const matchesSearch=user.firstName.toLowerCase().includes(searchTerm.toLowerCase())||user.lastName.toLowerCase().includes(searchTerm.toLowerCase())||user.username.toLowerCase().includes(searchTerm.toLowerCase())||user.email.toLowerCase().includes(searchTerm.toLowerCase());const matchesRole=filterRole==='all'||user.role.toLowerCase()===filterRole.toLowerCase();return matchesSearch&&matchesRole;});// Use filtered users for display (when filters are active)\n// Use backend pagination when no filters are applied\nconst hasFilters=searchTerm!==''||filterRole!=='all';const currentUsers=hasFilters?filteredUsers:users;const displayTotalPages=hasFilters?Math.ceil(filteredUsers.length/pageSize):totalPages;const displayTotalCount=hasFilters?filteredUsers.length:totalCount;// Reset to first page when filters change\nuseEffect(()=>{setCurrentPage(1);},[searchTerm,filterRole]);// Add escape key listener for edit user modal\nuseEffect(()=>{const handleEscapeKey=event=>{if(event.key==='Escape'){if(showEditUser){resetEditUserModal();}if(userDetailModal){setUserDetailModal(null);}}};document.addEventListener('keydown',handleEscapeKey);return()=>{document.removeEventListener('keydown',handleEscapeKey);};},[showEditUser,userDetailModal]);const getRoleBadgeColor=role=>{// Create a consistent color mapping based on role name\nconst colors=['primary','danger','warning','info','success','secondary'];const hash=role.toLowerCase().split('').reduce((acc,char)=>acc+char.charCodeAt(0),0);return colors[hash%colors.length];};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};const formatLastLogin=dateString=>{if(!dateString)return'Never';const now=new Date();const lastLogin=new Date(dateString);const diffInHours=Math.floor((now.getTime()-lastLogin.getTime())/(1000*60*60));if(diffInHours<1)return'Just now';if(diffInHours<24)return\"\".concat(diffInHours,\"h ago\");const diffInDays=Math.floor(diffInHours/24);if(diffInDays<7)return\"\".concat(diffInDays,\"d ago\");return formatDate(dateString);};// Form handling functions\nconst handleInputChange=(field,value)=>{setNewUserForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));// Clear error when user starts typing\nif(formErrors[field]){setFormErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:undefined}));}};const validateForm=()=>{const errors={};// First name validation\nif(!newUserForm.firstName.trim()){errors.firstName='First name is required';}else if(newUserForm.firstName.length>50){errors.firstName='First name must be between 1 and 50 characters';}// Last name validation\nif(!newUserForm.lastName.trim()){errors.lastName='Last name is required';}else if(newUserForm.lastName.length>50){errors.lastName='Last name must be between 1 and 50 characters';}// Username validation\nif(!newUserForm.username.trim()){errors.username='Username is required';}else if(newUserForm.username.length<3||newUserForm.username.length>100){errors.username='Username must be between 3 and 100 characters';}else if(!/^[a-zA-Z0-9_.-]+$/.test(newUserForm.username)){errors.username='Username can only contain letters, numbers, underscores, dots, and hyphens';}// Email validation\nif(!newUserForm.email.trim()){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(newUserForm.email)){errors.email='Invalid email format';}else if(newUserForm.email.length>255){errors.email='Email cannot exceed 255 characters';}// Phone number validation (basic format)\nif(!newUserForm.phoneNumber.trim()){errors.phoneNumber='Phone number is required';}else if(newUserForm.phoneNumber.length>20){errors.phoneNumber='Phone number cannot exceed 20 characters';}// Role validation\nif(!newUserForm.role.trim()){errors.role='Role is required';}// Password validation to match backend requirements\nif(!newUserForm.password.trim()){errors.password='Password is required';}else if(newUserForm.password.length<8||newUserForm.password.length>128){errors.password='Password must be between 8 and 128 characters';}else if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newUserForm.password)){errors.password='Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character (@$!%*?&)';}// Confirm password validation\nif(!newUserForm.reEnterPassword.trim()){errors.reEnterPassword='Please confirm password';}else if(newUserForm.password!==newUserForm.reEnterPassword){errors.reEnterPassword='Passwords do not match';}setFormErrors(errors);return Object.keys(errors).length===0;};const handleSubmitNewUser=async e=>{e.preventDefault();if(!validateForm())return;setIsSubmitting(true);setFormErrors({});// Clear any previous errors\ntry{console.log('Submitting user registration:',newUserForm);const response=await authApi.register(newUserForm);console.log('Registration response:',response);if(response&&response.success){setSubmitSuccess(true);// Reset form\nsetNewUserForm({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:'',role:''});setFormErrors({});// Refresh the user list and go to first page to show the newly created user\nrefetchAndGoToFirstPage();// User form will be closed manually by user clicking X\n}else{// Handle server errors\nconsole.error('Registration failed:',response);if(response!==null&&response!==void 0&&response.errors){// Handle field-specific validation errors from server\nconst serverErrors={};const errors=response.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else if(fieldName.includes('password'))serverErrors.password=errorMessage;else serverErrors.email=errorMessage;});setFormErrors(serverErrors);}else{setFormErrors({email:(response===null||response===void 0?void 0:response.message)||'Registration failed'});}}}catch(error){console.error('Registration error:',error);// Handle network or parsing errors\nif(error.status===400&&error.errors){const serverErrors={};const errors=error.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else if(fieldName.includes('password'))serverErrors.password=errorMessage;else serverErrors.email=errorMessage;});setFormErrors(serverErrors);}else{setFormErrors({email:error.message||'Network error occurred'});}}finally{setIsSubmitting(false);}};const resetAddUserModal=()=>{setNewUserForm({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:'',role:''});setShowAddUser(false);setSubmitSuccess(false);setFormErrors({});setIsSubmitting(false);setSubmitSuccess(false);setShowPassword(false);setShowReEnterPassword(false);setShowAddUser(false);};// Edit User Form handling\nconst handleEditInputChange=(field,value)=>{setEditUserForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));if(editFormErrors[field]){setEditFormErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:undefined}));}};const validateEditForm=()=>{const errors={};if(!editUserForm.firstName.trim()){errors.firstName='First name is required';}else if(editUserForm.firstName.length>50){errors.firstName='First name must be between 1 and 50 characters';}if(!editUserForm.lastName.trim()){errors.lastName='Last name is required';}else if(editUserForm.lastName.length>50){errors.lastName='Last name must be between 1 and 50 characters';}if(!editUserForm.username.trim()){errors.username='Username is required';}else if(editUserForm.username.length<3||editUserForm.username.length>100){errors.username='Username must be between 3 and 100 characters';}else if(!/^[a-zA-Z0-9_.-]+$/.test(editUserForm.username)){errors.username='Username can only contain letters, numbers, underscores, dots, and hyphens';}if(!editUserForm.email.trim()){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(editUserForm.email)){errors.email='Invalid email format';}else if(editUserForm.email.length>255){errors.email='Email cannot exceed 255 characters';}if(editUserForm.phoneNumber&&editUserForm.phoneNumber.length>20){errors.phoneNumber='Phone number cannot exceed 20 characters';}if(!editUserForm.role.trim()){errors.role='Role is required';}setEditFormErrors(errors);return Object.keys(errors).length===0;};const handleEditUserSubmit=async e=>{e.preventDefault();if(!validateEditForm())return;setIsEditSubmitting(true);setEditFormErrors({});try{const response=await userApi.updateUser(editUserForm);if(response&&response.success){setEditSubmitSuccess(true);// Update the user in the local state\nsetUsers(prevUsers=>prevUsers.map(user=>user.userId===editUserForm.userId?_objectSpread(_objectSpread({},user),editUserForm):user));// Edit form will be closed manually by user clicking X\n}else{setEditFormErrors({email:(response===null||response===void 0?void 0:response.message)||'Update failed'});}}catch(error){console.error('Update user error:',error);if(error.status===400&&error.errors){const serverErrors={};const errors=error.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else serverErrors.email=errorMessage;});setEditFormErrors(serverErrors);}else{setEditFormErrors({email:error.message||'Network error occurred'});}}finally{setIsEditSubmitting(false);}};const resetEditUserModal=()=>{setEditUserForm({userId:'',firstName:'',lastName:'',username:'',email:'',phoneNumber:'',role:'',isActive:true});setShowEditUser(false);setEditSubmitSuccess(false);setEditFormErrors({});setIsEditSubmitting(false);setEditSubmitSuccess(false);setShowEditUser(false);};// Dropdown action handlers\nconst handleFreezeUser=async user=>{try{const updatedUser=_objectSpread(_objectSpread({},user),{},{isActive:!user.isActive});const response=await userApi.updateUser(updatedUser);if(response&&response.success){// Update the user in the local state\nsetUsers(prevUsers=>prevUsers.map(u=>u.userId===user.userId?_objectSpread(_objectSpread({},u),{},{isActive:!u.isActive}):u));// Show success message (you could add a toast notification here)\nconsole.log(\"User \".concat(user.isActive?'frozen':'unfrozen',\" successfully\"));}}catch(error){console.error('Error updating user status:',error);}};const handleEmailUser=user=>{// Open email client with pre-filled recipient\nwindow.location.href=\"mailto:\".concat(user.email);};const handleDeleteUser=async()=>{if(!deletingUser)return;try{console.log('Attempting to delete user:',deletingUser.userId);const response=await userApi.deleteUser(deletingUser.userId);console.log('Delete user response:',response);if(response&&response.success){console.log(\"User \".concat(deletingUser.firstName,\" \").concat(deletingUser.lastName,\" deleted successfully\"));setDeleteSuccess(true);// Smart refetch to handle pagination after deletion\nrefetchUsers();// Delete success modal will be closed manually by user clicking X\n}else{console.error('Failed to delete user:',response===null||response===void 0?void 0:response.message);alert(\"Failed to delete user: \".concat((response===null||response===void 0?void 0:response.message)||'Unknown error'));}}catch(error){console.error('Error deleting user - Full error object:',error);console.error('Error message:',error.message);console.error('Error status:',error.status);console.error('Error response:',error.response);alert(\"Error deleting user: \".concat(error.message||error.status||'Network error occurred'));}};const confirmDeleteUser=user=>{setDeletingUser(user);setShowDeleteConfirm(true);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"User Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6 mb-0\",children:\"Manage user accounts and permissions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3 d-flex align-items-center\",disabled:true,children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add User\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm border-0 rounded-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Loading accounts...\"})]})})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"User Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6 mb-0\",children:\"Manage user accounts and permissions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3 d-flex align-items-center\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add User\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\",size:18}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-lg rounded-3 ps-5\",placeholder:\"Search users by name, username, or email...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg rounded-3\",value:filterRole,onChange:e=>setFilterRole(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Roles\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role.toLowerCase(),children:role.role},role.userRoleId))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-2 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-primary\",children:filteredUsers.length}),/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Total Users\"})]})})]})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[currentUsers.map(user=>/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-4 col-md-6 col-sm-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm h-100 dashboard-card\",style:{cursor:'pointer',transition:'transform 0.2s, box-shadow 0.2s'},onClick:e=>{// Don't open modal if clicking on dropdown\nif(!e.target.closest('.dropdown')){setUserDetailModal(user);}},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 25px rgba(0,0,0,0.15)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='';},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-start justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle bg-primary bg-opacity-10 p-2 me-2\",children:/*#__PURE__*/_jsx(Users,{className:\"text-primary\",size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-dark mb-0\",children:[user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0 small\",children:[\"@\",user.username]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary rounded-3\",type:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(MoreVertical,{size:16})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu dropdown-menu-end\",style:{width:'190px'},children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();handleFreezeUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:user.isActive?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Lock,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Freeze Account\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Unlock,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Unfreeze Account\"})]})})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();handleEmailUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Mail,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Send Email\"})]})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item text-danger d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();confirmDeleteUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Trash2,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Delete User\"})]})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-\".concat(getRoleBadgeColor(user.role),\" bg-opacity-10 text-\").concat(getRoleBadgeColor(user.role),\" fw-semibold small\"),children:user.role}),user.isActive?/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success bg-opacity-10 text-success fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:10,className:\"me-1\"}),\"Active\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(XCircle,{size:10,className:\"me-1\"}),\"Inactive\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(Mail,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark text-truncate\",style:{maxWidth:'150px'},title:user.email,children:user.email})]}),user.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark\",children:user.phoneNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsxs(\"span\",{className:\"small text-muted\",children:[\"Joined \",formatDate(user.createdAt)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-light rounded-3 p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"small fw-semibold text-muted\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark\",children:formatLastLogin(user.lastLogin)})]})})]})})},user.userId)),filteredUsers.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-5 text-center\",children:[/*#__PURE__*/_jsx(Users,{size:64,className:\"text-muted mb-3 opacity-50\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold text-muted mb-2\",children:\"No Users Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:searchTerm||filterRole!=='all'?'Try adjusting your search or filter criteria.':'Get started by adding your first user.'}),!searchTerm&&filterRole==='all'&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add First User\"]})]})})})]}),displayTotalCount>4&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:hasFilters?\"Showing \".concat(currentUsers.length,\" of \").concat(displayTotalCount,\" users (filtered)\"):\"Showing \".concat((currentPage-1)*pageSize+1,\" to \").concat(Math.min(currentPage*pageSize,displayTotalCount),\" of \").concat(displayTotalCount,\" users\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted small\",children:\"Users per page:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",style:{width:'auto'},value:pageSize,onChange:e=>{const newPageSize=Number(e.target.value);setPageSize(newPageSize);setCurrentPage(1);if(!hasFilters){loadData(1,newPageSize);}},children:[/*#__PURE__*/_jsx(\"option\",{value:4,children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100\"})]})]})]}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination pagination-sm mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{setCurrentPage(1);if(!hasFilters){loadData(1,pageSize);}},disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronsLeft,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{const newPage=currentPage-1;setCurrentPage(newPage);if(!hasFilters){loadData(newPage,pageSize);}},disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronLeft,{size:16})})}),Array.from({length:Math.min(5,displayTotalPages)},(_,i)=>{let pageNum;if(displayTotalPages<=5){pageNum=i+1;}else if(currentPage<=3){pageNum=i+1;}else if(currentPage>=displayTotalPages-2){pageNum=displayTotalPages-4+i;}else{pageNum=currentPage-2+i;}return/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===pageNum?'active':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{setCurrentPage(pageNum);if(!hasFilters){loadData(pageNum,pageSize);}},children:pageNum})},pageNum);}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===displayTotalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{const newPage=currentPage+1;setCurrentPage(newPage);if(!hasFilters){loadData(newPage,pageSize);}},disabled:currentPage===displayTotalPages,children:/*#__PURE__*/_jsx(ChevronRight,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===displayTotalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{setCurrentPage(displayTotalPages);if(!hasFilters){loadData(displayTotalPages,pageSize);}},disabled:currentPage===displayTotalPages,children:/*#__PURE__*/_jsx(ChevronsRight,{size:16})})})]})})]}),userDetailModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle bg-primary bg-opacity-10 p-2 me-3\",children:/*#__PURE__*/_jsx(Users,{className:\"text-primary\",size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title fw-bold mb-0\",children:[userDetailModal.firstName,\" \",userDetailModal.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-0\",children:[\"@\",userDetailModal.username]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setUserDetailModal(null)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-\".concat(getRoleBadgeColor(userDetailModal.role),\" bg-opacity-10 text-\").concat(getRoleBadgeColor(userDetailModal.role),\" fw-semibold px-3 py-2\"),children:[/*#__PURE__*/_jsx(Shield,{size:14,className:\"me-1\"}),userDetailModal.role]}),userDetailModal.isActive?/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success bg-opacity-10 text-success fw-semibold px-3 py-2\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:14,className:\"me-1\"}),\"Active\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold px-3 py-2\",children:[/*#__PURE__*/_jsx(XCircle,{size:14,className:\"me-1\"}),\"Inactive\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-primary bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-primary mb-3\",children:[/*#__PURE__*/_jsx(Users,{size:16,className:\"me-2\"}),\"Basic Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"User ID\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.userId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.lastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Username\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-semibold text-dark\",children:[\"@\",userDetailModal.username]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-info bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-info mb-3\",children:[/*#__PURE__*/_jsx(Mail,{size:16,className:\"me-2\"}),\"Contact Information\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(Mail,{className:\"text-info me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.email})]})]}),userDetailModal.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-info me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.phoneNumber})]})]}),!userDetailModal.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-muted me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\"Not provided\"})]})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-success bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-success mb-3\",children:[/*#__PURE__*/_jsx(Calendar,{size:16,className:\"me-2\"}),\"Activity Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:formatLastLogin(userDetailModal.lastLogin)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Member Since\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:formatDate(userDetailModal.createdAt)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Account Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:userDetailModal.isActive?'Active':'Inactive'})]})})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer border-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2 w-100\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-primary rounded-3 flex-fill\",onClick:()=>{setEditUserForm({userId:userDetailModal.userId,firstName:userDetailModal.firstName,lastName:userDetailModal.lastName,username:userDetailModal.username,email:userDetailModal.email,phoneNumber:userDetailModal.phoneNumber||'',role:userDetailModal.role,isActive:true});setUserDetailModal(null);setShowEditUser(true);},children:[/*#__PURE__*/_jsx(Edit3,{size:16,className:\"me-2\"}),\"Edit User\"]})})})]})})}),showEditUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title fw-bold\",children:\"Edit User\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:resetEditUserModal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:editSubmitSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Updated Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"The user information has been updated.\"})]}):/*#__PURE__*/_jsx(\"form\",{onSubmit:handleEditUserSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.firstName?'is-invalid':''),placeholder:\"Enter first name\",value:editUserForm.firstName,onChange:e=>handleEditInputChange('firstName',e.target.value)}),editFormErrors.firstName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.firstName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.lastName?'is-invalid':''),placeholder:\"Enter last name\",value:editUserForm.lastName,onChange:e=>handleEditInputChange('lastName',e.target.value)}),editFormErrors.lastName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.username?'is-invalid':''),placeholder:\"Enter username\",value:editUserForm.username,onChange:e=>handleEditInputChange('username',e.target.value)}),editFormErrors.username&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-3 \".concat(editFormErrors.email?'is-invalid':''),placeholder:\"Enter email address\",value:editUserForm.email,onChange:e=>handleEditInputChange('email',e.target.value)}),editFormErrors.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control rounded-3 \".concat(editFormErrors.phoneNumber?'is-invalid':''),placeholder:\"e.g., +1 (555) 123-4567 or 555-123-4567\",value:editUserForm.phoneNumber,onChange:e=>handleEditInputChange('phoneNumber',e.target.value)}),editFormErrors.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.phoneNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select rounded-3 \".concat(editFormErrors.role?'is-invalid':''),value:editUserForm.role,onChange:e=>handleEditInputChange('role',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a role\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role,children:role.role},role.userRoleId))]}),editFormErrors.role&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.role]})]})]})})}),!editSubmitSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary rounded-3\",onClick:resetEditUserModal,disabled:isEditSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-3\",onClick:handleEditUserSubmit,disabled:isEditSubmitting,children:isEditSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Updating User...\"]}):'Update User'})]})]})})}),showAddUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title fw-bold\",children:\"Add New User\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:resetAddUserModal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:submitSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Created Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"The new user has been registered and can now login to the system.\"})]}):/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmitNewUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.firstName?'is-invalid':''),placeholder:\"Enter first name\",value:newUserForm.firstName,onChange:e=>handleInputChange('firstName',e.target.value)}),formErrors.firstName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.firstName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.lastName?'is-invalid':''),placeholder:\"Enter last name\",value:newUserForm.lastName,onChange:e=>handleInputChange('lastName',e.target.value)}),formErrors.lastName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.username?'is-invalid':''),placeholder:\"Enter username\",value:newUserForm.username,onChange:e=>handleInputChange('username',e.target.value)}),formErrors.username&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-3 \".concat(formErrors.email?'is-invalid':''),placeholder:\"Enter email address\",value:newUserForm.email,onChange:e=>handleInputChange('email',e.target.value)}),formErrors.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control rounded-3 \".concat(formErrors.phoneNumber?'is-invalid':''),placeholder:\"e.g., +1 (555) 123-4567 or 555-123-4567\",value:newUserForm.phoneNumber,onChange:e=>handleInputChange('phoneNumber',e.target.value)}),formErrors.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.phoneNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select rounded-3 \".concat(formErrors.role?'is-invalid':''),value:newUserForm.role,onChange:e=>handleInputChange('role',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a role\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role,children:role.role},role.userRoleId))]}),formErrors.role&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.role]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',className:\"form-control rounded-3 pe-5 \".concat(formErrors.password?'is-invalid':''),placeholder:\"Min 8 chars, 1 uppercase, 1 lowercase, 1 digit, 1 special (@$!%*?&)\",value:newUserForm.password,onChange:e=>handleInputChange('password',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\",style:{zIndex:10},children:showPassword?/*#__PURE__*/_jsx(EyeOff,{size:18}):/*#__PURE__*/_jsx(Eye,{size:18})}),formErrors.password&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.password]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showReEnterPassword?'text':'password',className:\"form-control rounded-3 pe-5 \".concat(formErrors.reEnterPassword?'is-invalid':''),placeholder:\"Re-enter password\",value:newUserForm.reEnterPassword,onChange:e=>handleInputChange('reEnterPassword',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowReEnterPassword(!showReEnterPassword),className:\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\",style:{zIndex:10},children:showReEnterPassword?/*#__PURE__*/_jsx(EyeOff,{size:18}):/*#__PURE__*/_jsx(Eye,{size:18})}),formErrors.reEnterPassword&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.reEnterPassword]})]})]})]})})}),!submitSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary rounded-3\",onClick:resetAddUserModal,disabled:isSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-3\",onClick:handleSubmitNewUser,disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Creating User...\"]}):'Create User'})]})]})})}),showDeleteConfirm&&deletingUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)',position:'fixed',top:0,left:0,width:'100%',height:'100%',zIndex:1050},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title fw-bold text-danger\",children:deleteSuccess?'User Deleted':'Confirm Deletion'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowDeleteConfirm(false);setDeletingUser(null);setDeleteSuccess(false);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:deleteSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Deleted Successfully!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[deletingUser.firstName,\" \",deletingUser.lastName]}),\" has been permanently removed.\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:64,className:\"text-warning mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold\",children:\"Are you sure you want to delete this user?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-3 my-3\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"fw-bold text-dark mb-1\",children:[deletingUser.firstName,\" \",deletingUser.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-1\",children:[/*#__PURE__*/_jsx(Mail,{className:\"me-1\",size:14}),deletingUser.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-0\",children:[/*#__PURE__*/_jsx(Shield,{className:\"me-1\",size:14}),\"Role: \",deletingUser.role]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger small fw-semibold\",children:\"\\u26A0\\uFE0F This action cannot be undone. All user data and permissions will be permanently removed.\"})]})}),!deleteSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDeleteConfirm(false);setDeletingUser(null);},className:\"btn btn-secondary rounded-3 fw-semibold\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDeleteUser,className:\"btn btn-danger rounded-3 fw-semibold d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"me-2\",size:16}),\"Delete User\"]})]})]})})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Users","Search","Edit3","Trash2","Mail","Phone","Calendar","Shield","CheckCircle2","XCircle","MoreVertical","UserPlus","AlertCircle","Eye","EyeOff","Lock","Unlock","ChevronLeft","ChevronRight","ChevronsLeft","ChevronsRight","AlertTriangle","userApi","roleApi","authApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Accounts","users","setUsers","roles","setRoles","searchTerm","setSearchTerm","filterRole","setFilterRole","showAddUser","setShowAddUser","userDetailModal","setUserDetailModal","showEditUser","setShowEditUser","editUserForm","setEditUserForm","userId","firstName","lastName","username","email","phoneNumber","role","isActive","editFormErrors","setEditFormErrors","isEditSubmitting","setIsEditSubmitting","editSubmitSuccess","setEditSubmitSuccess","loading","setLoading","currentPage","setCurrentPage","pageSize","setPageSize","totalCount","setTotalCount","totalPages","setTotalPages","newUserForm","setNewUserForm","password","reEnterPassword","formErrors","setFormErrors","isSubmitting","setIsSubmitting","showPassword","setShowPassword","showReEnterPassword","setShowReEnterPassword","submitSuccess","setSubmitSuccess","showDeleteConfirm","setShowDeleteConfirm","deletingUser","setDeletingUser","deleteSuccess","setDeleteSuccess","handleEscKey","event","key","resetAddUserModal","document","addEventListener","removeEventListener","loadData","page","arguments","length","undefined","size","_usersResponse$data","usersResponse","getAllUsers","success","data","transformedUsers","map","user","lastLogin","createdAt","allTransformedUsers","startIndex","endIndex","paginatedUsers","slice","Math","ceil","console","error","message","rolesResponse","getAllRoles","refetchUsers","hasFilters","_response$data","response","newTotalPages","newTotalCount","refetchAndGoToFirstPage","filteredUsers","filter","matchesSearch","toLowerCase","includes","matchesRole","currentUsers","displayTotalPages","displayTotalCount","handleEscapeKey","resetEditUserModal","getRoleBadgeColor","colors","hash","split","reduce","acc","char","charCodeAt","formatDate","dateString","Date","toLocaleDateString","year","month","day","formatLastLogin","now","diffInHours","floor","getTime","concat","diffInDays","handleInputChange","field","value","prev","_objectSpread","validateForm","errors","trim","test","Object","keys","handleSubmitNewUser","e","preventDefault","log","register","serverErrors","forEach","fieldName","errorValue","errorMessage","Array","isArray","status","handleEditInputChange","validateEditForm","handleEditUserSubmit","updateUser","prevUsers","handleFreezeUser","updatedUser","u","handleEmailUser","window","location","href","handleDeleteUser","deleteUser","alert","confirmDeleteUser","className","style","overflowX","children","maxWidth","disabled","onClick","type","placeholder","onChange","target","userRoleId","cursor","transition","closest","onMouseEnter","currentTarget","transform","boxShadow","onMouseLeave","stopPropagation","width","whiteSpace","textAlign","display","alignItems","title","min","newPageSize","Number","newPage","from","_","i","pageNum","backgroundColor","onSubmit","zIndex","position","top","left","height"],"sources":["/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/src/components/account/Accounts.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Users, \n  Search, \n  Edit3, \n  Trash2, \n  Mail, \n  Phone, \n  Calendar,\n  Shield,\n  CheckCircle2,\n  XCircle,\n  MoreVertical,\n  UserPlus,\n  AlertCircle,\n  Eye,\n  EyeOff,\n  Lock,\n  Unlock,\n  ChevronLeft,\n  ChevronRight,\n  ChevronsLeft,\n  ChevronsRight,\n  AlertTriangle\n} from 'lucide-react';\nimport { userApi, roleApi } from '../../services/api';\nimport { authApi } from '../../services/api';\n\ninterface Role {\n  userRoleId: string;\n  role: string;\n  createdAt: string;\n  createdBy: string;\n}\n\ninterface User {\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber?: string;\n  isActive: boolean;\n  role: string;\n  lastLogin?: string;\n  createdAt: string;\n}\n\ninterface NewUserForm {\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber: string;\n  password: string;\n  reEnterPassword: string;\n  role: string;\n}\n\ninterface EditUserForm {\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber: string;\n  role: string;\n  isActive: boolean;\n}\n\nexport default function Accounts() {\n  const [users, setUsers] = useState<User[]>([]);\n  const [roles, setRoles] = useState<Role[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterRole, setFilterRole] = useState<string>('all');\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [userDetailModal, setUserDetailModal] = useState<User | null>(null);\n  const [showEditUser, setShowEditUser] = useState(false);\n  const [editUserForm, setEditUserForm] = useState<EditUserForm>({\n    userId: '',\n    firstName: '',\n    lastName: '',\n    username: '',\n    email: '',\n    phoneNumber: '',\n    role: '',\n    isActive: true\n  });\n  const [editFormErrors, setEditFormErrors] = useState<Partial<EditUserForm>>({});\n  const [isEditSubmitting, setIsEditSubmitting] = useState(false);\n  const [editSubmitSuccess, setEditSubmitSuccess] = useState(false);\n  const [loading, setLoading] = useState(true);\n  \n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(4);\n  const [totalCount, setTotalCount] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  \n  // New User Form State\n  const [newUserForm, setNewUserForm] = useState<NewUserForm>({\n    firstName: '',\n    lastName: '',\n    username: '',\n    email: '',\n    phoneNumber: '',\n    password: '',\n    reEnterPassword: '',\n    role: ''\n  });\n  const [formErrors, setFormErrors] = useState<Partial<NewUserForm>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showReEnterPassword, setShowReEnterPassword] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [deletingUser, setDeletingUser] = useState<User | null>(null);\n  const [deleteSuccess, setDeleteSuccess] = useState(false);\n\n  // ESC key handler for modal\n  useEffect(() => {\n    const handleEscKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && showAddUser) {\n        resetAddUserModal();\n      }\n    };\n\n    if (showAddUser) {\n      document.addEventListener('keydown', handleEscKey);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscKey);\n    };\n  }, [showAddUser]);\n\n  // Load users and roles from database\n  const loadData = async (page: number = currentPage, size: number = pageSize) => {\n    setLoading(true);\n    \n    // Load users - this should always work regardless of roles\n    try {\n      const usersResponse = await userApi.getAllUsers(page, size);\n      \n      if (usersResponse.success && usersResponse.data?.data) {\n        const transformedUsers: User[] = usersResponse.data.data.map((user: any) => ({\n          userId: user.userId,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          username: user.username,\n          email: user.email,\n          phoneNumber: user.phoneNumber,\n          isActive: user.isActive,\n          role: user.role,\n          lastLogin: user.lastLogin,\n          createdAt: user.createdAt\n        }));\n        \n        setUsers(transformedUsers);\n        setCurrentPage(usersResponse.data.page || page);\n        setPageSize(usersResponse.data.pageSize || size);\n        setTotalCount(usersResponse.data.totalCount || 0);\n        setTotalPages(usersResponse.data.totalPages || 1);\n      } else if (usersResponse.success && usersResponse.users) {\n        // Fallback for old API response format - use client-side pagination\n        const allTransformedUsers: User[] = usersResponse.users.map((user: any) => ({\n          userId: user.userId,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          username: user.username,\n          email: user.email,\n          phoneNumber: user.phoneNumber,\n          isActive: user.isActive,\n          role: user.role,\n          lastLogin: user.lastLogin,\n          createdAt: user.createdAt\n        }));\n        const startIndex = (page - 1) * size;\n        const endIndex = startIndex + size;\n        const paginatedUsers = allTransformedUsers.slice(startIndex, endIndex);\n        setUsers(paginatedUsers);\n        // Set pagination values for non-paginated response\n        setTotalCount(allTransformedUsers.length);\n        setTotalPages(Math.ceil(allTransformedUsers.length / size));\n        setCurrentPage(page);\n        setPageSize(size);\n      } else {\n        console.error('Failed to load users:', usersResponse.message);\n        setUsers([]);\n      }\n    } catch (error) {\n      console.error('Error loading users:', error);\n      setUsers([]);\n    }\n    \n    // Load roles - independent of users\n    try {\n      const rolesResponse = await roleApi.getAllRoles();\n      \n      if (rolesResponse.success && rolesResponse.roles) {\n        setRoles(rolesResponse.roles);\n      } else {\n        console.error('Failed to load roles:', rolesResponse.message);\n        setRoles([]);\n      }\n    } catch (error) {\n      console.error('Error loading roles:', error);\n      setRoles([]);\n    }\n    \n    setLoading(false);\n  };\n\n  // Smart refetch that handles empty pages after deletion  \n  const refetchUsers = async () => {\n    if (hasFilters) {\n      // For filtered view, reload all data and let frontend handle filtering\n      await loadData(1, 100); // Load more data for filtering\n    } else {\n      // For paginated view, check if we need to adjust page\n      const response = await userApi.getAllUsers(currentPage, pageSize);\n      if (response.success && response.data?.data) {\n        const newTotalPages = response.data.totalPages || 1;\n        const newTotalCount = response.data.totalCount || 0;\n        \n        if (currentPage > newTotalPages && newTotalCount > 0) {\n          // Navigate to last available page\n          setCurrentPage(newTotalPages);\n          await loadData(newTotalPages, pageSize);\n        } else if (newTotalCount === 0) {\n          // If no users at all, go to page 1\n          setCurrentPage(1);\n          await loadData(1, pageSize);\n        } else {\n          // Current page is valid, just update data\n          await loadData(currentPage, pageSize);\n        }\n      }\n    }\n  };\n\n  // Refetch and navigate to first page (where new items should appear)\n  const refetchAndGoToFirstPage = async () => {\n    setCurrentPage(1);\n    await loadData(1, pageSize);\n  };\n\n  useEffect(() => {\n    loadData(1, pageSize);\n  }, []);\n\n  const filteredUsers = users.filter(user => {\n    const matchesSearch = user.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.email.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesRole = filterRole === 'all' || user.role.toLowerCase() === filterRole.toLowerCase();\n    \n    return matchesSearch && matchesRole;\n  });\n\n  // Use filtered users for display (when filters are active)\n  // Use backend pagination when no filters are applied\n  const hasFilters = searchTerm !== '' || filterRole !== 'all';\n  const currentUsers = hasFilters ? filteredUsers : users;\n  const displayTotalPages = hasFilters ? Math.ceil(filteredUsers.length / pageSize) : totalPages;\n  const displayTotalCount = hasFilters ? filteredUsers.length : totalCount;\n\n  // Reset to first page when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [searchTerm, filterRole]);\n\n  // Add escape key listener for edit user modal\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        if (showEditUser) {\n          resetEditUserModal();\n        }\n        if (userDetailModal) {\n          setUserDetailModal(null);\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleEscapeKey);\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [showEditUser, userDetailModal]);\n\n  const getRoleBadgeColor = (role: string) => {\n    // Create a consistent color mapping based on role name\n    const colors = ['primary', 'danger', 'warning', 'info', 'success', 'secondary'];\n    const hash = role.toLowerCase().split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n    return colors[hash % colors.length];\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const formatLastLogin = (dateString?: string) => {\n    if (!dateString) return 'Never';\n    const now = new Date();\n    const lastLogin = new Date(dateString);\n    const diffInHours = Math.floor((now.getTime() - lastLogin.getTime()) / (1000 * 60 * 60));\n    \n    if (diffInHours < 1) return 'Just now';\n    if (diffInHours < 24) return `${diffInHours}h ago`;\n    const diffInDays = Math.floor(diffInHours / 24);\n    if (diffInDays < 7) return `${diffInDays}d ago`;\n    return formatDate(dateString);\n  };\n\n  // Form handling functions\n  const handleInputChange = (field: keyof NewUserForm, value: string) => {\n    setNewUserForm(prev => ({ ...prev, [field]: value }));\n    // Clear error when user starts typing\n    if (formErrors[field]) {\n      setFormErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const errors: Partial<NewUserForm> = {};\n\n    // First name validation\n    if (!newUserForm.firstName.trim()) {\n      errors.firstName = 'First name is required';\n    } else if (newUserForm.firstName.length > 50) {\n      errors.firstName = 'First name must be between 1 and 50 characters';\n    }\n\n    // Last name validation\n    if (!newUserForm.lastName.trim()) {\n      errors.lastName = 'Last name is required';\n    } else if (newUserForm.lastName.length > 50) {\n      errors.lastName = 'Last name must be between 1 and 50 characters';\n    }\n\n    // Username validation\n    if (!newUserForm.username.trim()) {\n      errors.username = 'Username is required';\n    } else if (newUserForm.username.length < 3 || newUserForm.username.length > 100) {\n      errors.username = 'Username must be between 3 and 100 characters';\n    } else if (!/^[a-zA-Z0-9_.-]+$/.test(newUserForm.username)) {\n      errors.username = 'Username can only contain letters, numbers, underscores, dots, and hyphens';\n    }\n\n    // Email validation\n    if (!newUserForm.email.trim()) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(newUserForm.email)) {\n      errors.email = 'Invalid email format';\n    } else if (newUserForm.email.length > 255) {\n      errors.email = 'Email cannot exceed 255 characters';\n    }\n\n    // Phone number validation (basic format)\n    if (!newUserForm.phoneNumber.trim()) {\n      errors.phoneNumber = 'Phone number is required';\n    } else if (newUserForm.phoneNumber.length > 20) {\n      errors.phoneNumber = 'Phone number cannot exceed 20 characters';\n    }\n\n    // Role validation\n    if (!newUserForm.role.trim()) {\n      errors.role = 'Role is required';\n    }\n\n    // Password validation to match backend requirements\n    if (!newUserForm.password.trim()) {\n      errors.password = 'Password is required';\n    } else if (newUserForm.password.length < 8 || newUserForm.password.length > 128) {\n      errors.password = 'Password must be between 8 and 128 characters';\n    } else if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newUserForm.password)) {\n      errors.password = 'Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character (@$!%*?&)';\n    }\n\n    // Confirm password validation\n    if (!newUserForm.reEnterPassword.trim()) {\n      errors.reEnterPassword = 'Please confirm password';\n    } else if (newUserForm.password !== newUserForm.reEnterPassword) {\n      errors.reEnterPassword = 'Passwords do not match';\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmitNewUser = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) return;\n\n    setIsSubmitting(true);\n    setFormErrors({}); // Clear any previous errors\n    \n    try {\n      console.log('Submitting user registration:', newUserForm);\n      const response = await authApi.register(newUserForm);\n      console.log('Registration response:', response);\n      \n      if (response && response.success) {\n        setSubmitSuccess(true);\n        // Reset form\n        setNewUserForm({\n          firstName: '',\n          lastName: '',\n          username: '',\n          email: '',\n          phoneNumber: '',\n          password: '',\n          reEnterPassword: '',\n          role: ''\n        });\n        setFormErrors({});\n        \n        // Refresh the user list and go to first page to show the newly created user\n        refetchAndGoToFirstPage();\n        \n        // User form will be closed manually by user clicking X\n      } else {\n        // Handle server errors\n        console.error('Registration failed:', response);\n        if (response?.errors) {\n          // Handle field-specific validation errors from server\n          const serverErrors: Partial<NewUserForm> = {};\n          const errors = response.errors as unknown as { [key: string]: string | string[] };\n          Object.keys(errors).forEach(key => {\n            const fieldName = key.toLowerCase();\n            const errorValue = errors[key];\n            const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n            if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n            else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n            else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n            else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n            else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n            else if (fieldName.includes('password')) serverErrors.password = errorMessage;\n            else serverErrors.email = errorMessage;\n          });\n          setFormErrors(serverErrors);\n        } else {\n          setFormErrors({ email: response?.message || 'Registration failed' });\n        }\n      }\n    } catch (error: any) {\n      console.error('Registration error:', error);\n      // Handle network or parsing errors\n      if (error.status === 400 && error.errors) {\n        const serverErrors: Partial<NewUserForm> = {};\n        const errors = error.errors as unknown as { [key: string]: string | string[] };\n        Object.keys(errors).forEach(key => {\n          const fieldName = key.toLowerCase();\n          const errorValue = errors[key];\n          const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n          if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n          else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n          else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n          else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n          else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n          else if (fieldName.includes('password')) serverErrors.password = errorMessage;\n          else serverErrors.email = errorMessage;\n        });\n        setFormErrors(serverErrors);\n      } else {\n        setFormErrors({ email: error.message || 'Network error occurred' });\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const resetAddUserModal = () => {\n    setNewUserForm({\n      firstName: '',\n      lastName: '',\n      username: '',\n      email: '',\n      phoneNumber: '',\n      password: '',\n      reEnterPassword: '',\n      role: ''\n    });\n    setShowAddUser(false);\n    setSubmitSuccess(false);\n    setFormErrors({});\n    setIsSubmitting(false);\n    setSubmitSuccess(false);\n    setShowPassword(false);\n    setShowReEnterPassword(false);\n    setShowAddUser(false);\n  };\n\n  // Edit User Form handling\n  const handleEditInputChange = (field: keyof EditUserForm, value: string | boolean) => {\n    setEditUserForm(prev => ({ ...prev, [field]: value }));\n    if (editFormErrors[field]) {\n      setEditFormErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const validateEditForm = (): boolean => {\n    const errors: Partial<EditUserForm> = {};\n\n    if (!editUserForm.firstName.trim()) {\n      errors.firstName = 'First name is required';\n    } else if (editUserForm.firstName.length > 50) {\n      errors.firstName = 'First name must be between 1 and 50 characters';\n    }\n\n    if (!editUserForm.lastName.trim()) {\n      errors.lastName = 'Last name is required';\n    } else if (editUserForm.lastName.length > 50) {\n      errors.lastName = 'Last name must be between 1 and 50 characters';\n    }\n\n    if (!editUserForm.username.trim()) {\n      errors.username = 'Username is required';\n    } else if (editUserForm.username.length < 3 || editUserForm.username.length > 100) {\n      errors.username = 'Username must be between 3 and 100 characters';\n    } else if (!/^[a-zA-Z0-9_.-]+$/.test(editUserForm.username)) {\n      errors.username = 'Username can only contain letters, numbers, underscores, dots, and hyphens';\n    }\n\n    if (!editUserForm.email.trim()) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(editUserForm.email)) {\n      errors.email = 'Invalid email format';\n    } else if (editUserForm.email.length > 255) {\n      errors.email = 'Email cannot exceed 255 characters';\n    }\n\n    if (editUserForm.phoneNumber && editUserForm.phoneNumber.length > 20) {\n      errors.phoneNumber = 'Phone number cannot exceed 20 characters';\n    }\n\n    if (!editUserForm.role.trim()) {\n      errors.role = 'Role is required';\n    }\n\n    setEditFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleEditUserSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateEditForm()) return;\n\n    setIsEditSubmitting(true);\n    setEditFormErrors({});\n    \n    try {\n      const response = await userApi.updateUser(editUserForm);\n      \n      if (response && response.success) {\n        setEditSubmitSuccess(true);\n        // Update the user in the local state\n        setUsers(prevUsers => \n          prevUsers.map(user => \n            user.userId === editUserForm.userId \n              ? { ...user, ...editUserForm }\n              : user\n          )\n        );\n        \n        // Edit form will be closed manually by user clicking X\n      } else {\n        setEditFormErrors({ email: response?.message || 'Update failed' });\n      }\n    } catch (error: any) {\n      console.error('Update user error:', error);\n      if (error.status === 400 && error.errors) {\n        const serverErrors: Partial<EditUserForm> = {};\n        const errors = error.errors as unknown as { [key: string]: string | string[] };\n        Object.keys(errors).forEach(key => {\n          const fieldName = key.toLowerCase();\n          const errorValue = errors[key];\n          const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n          if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n          else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n          else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n          else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n          else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n          else serverErrors.email = errorMessage;\n        });\n        setEditFormErrors(serverErrors);\n      } else {\n        setEditFormErrors({ email: error.message || 'Network error occurred' });\n      }\n    } finally {\n      setIsEditSubmitting(false);\n    }\n  };\n\n  const resetEditUserModal = () => {\n    setEditUserForm({\n      userId: '',\n      firstName: '',\n      lastName: '',\n      username: '',\n      email: '',\n      phoneNumber: '',\n      role: '',\n      isActive: true\n    });\n    setShowEditUser(false);\n    setEditSubmitSuccess(false);\n    setEditFormErrors({});\n    setIsEditSubmitting(false);\n    setEditSubmitSuccess(false);\n    setShowEditUser(false);\n  };\n\n  // Dropdown action handlers\n  const handleFreezeUser = async (user: User) => {\n    try {\n      const updatedUser = {\n        ...user,\n        isActive: !user.isActive\n      };\n      \n      const response = await userApi.updateUser(updatedUser);\n      \n      if (response && response.success) {\n        // Update the user in the local state\n        setUsers(prevUsers => \n          prevUsers.map(u => \n            u.userId === user.userId \n              ? { ...u, isActive: !u.isActive }\n              : u\n          )\n        );\n        \n        // Show success message (you could add a toast notification here)\n        console.log(`User ${user.isActive ? 'frozen' : 'unfrozen'} successfully`);\n      }\n    } catch (error) {\n      console.error('Error updating user status:', error);\n    }\n  };\n\n  const handleEmailUser = (user: User) => {\n    // Open email client with pre-filled recipient\n    window.location.href = `mailto:${user.email}`;\n  };\n\n  const handleDeleteUser = async () => {\n    if (!deletingUser) return;\n\n    try {\n      console.log('Attempting to delete user:', deletingUser.userId);\n      const response = await userApi.deleteUser(deletingUser.userId);\n      console.log('Delete user response:', response);\n      \n      if (response && response.success) {\n        console.log(`User ${deletingUser.firstName} ${deletingUser.lastName} deleted successfully`);\n        setDeleteSuccess(true);\n        \n        // Smart refetch to handle pagination after deletion\n        refetchUsers();\n        \n        // Delete success modal will be closed manually by user clicking X\n      } else {\n        console.error('Failed to delete user:', response?.message);\n        alert(`Failed to delete user: ${response?.message || 'Unknown error'}`);\n      }\n    } catch (error: any) {\n      console.error('Error deleting user - Full error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error status:', error.status);\n      console.error('Error response:', error.response);\n      alert(`Error deleting user: ${error.message || error.status || 'Network error occurred'}`);\n    }\n  };\n\n  const confirmDeleteUser = (user: User) => {\n    setDeletingUser(user);\n    setShowDeleteConfirm(true);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n        <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n          {/* Header */}\n          <div className=\"mb-4\">\n            <div className=\"d-flex align-items-center justify-content-between mb-2\">\n              <div className=\"d-flex align-items-center\">\n                <Users className=\"text-primary me-3\" size={32} />\n                <div>\n                  <h1 className=\"display-5 fw-bold text-dark mb-0\">User Accounts</h1>\n                  <p className=\"text-muted fs-6 mb-0\">Manage user accounts and permissions</p>\n                </div>\n              </div>\n              <div className=\"d-flex gap-2\">\n                <button className=\"btn btn-primary rounded-3 d-flex align-items-center\" disabled>\n                  <UserPlus className=\"me-2\" size={18} />\n                  Add User\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          {/* Loading Content */}\n          <div className=\"card shadow-sm border-0 rounded-4\">\n            <div className=\"card-body p-4 text-center\">\n              <div className=\"spinner-border text-primary mb-3\" role=\"status\">\n                <span className=\"visually-hidden\">Loading...</span>\n              </div>\n              <p className=\"text-muted\">Loading accounts...</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n      <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n        {/* Header */}\n        <div className=\"mb-4\">\n          <div className=\"d-flex align-items-center justify-content-between mb-2\">\n            <div className=\"d-flex align-items-center\">\n              <Users className=\"text-primary me-3\" size={32} />\n              <div>\n                <h1 className=\"display-5 fw-bold text-dark mb-0\">User Accounts</h1>\n                <p className=\"text-muted fs-6 mb-0\">Manage user accounts and permissions</p>\n              </div>\n            </div>\n            <div className=\"d-flex gap-2\">\n              <button \n                className=\"btn btn-primary rounded-3 d-flex align-items-center\"\n                onClick={() => setShowAddUser(true)}\n              >\n                <UserPlus className=\"me-2\" size={18} />\n                Add User\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters and Search */}\n        <div className=\"row mb-4\">\n          <div className=\"col-12\">\n            <div className=\"card border-0 rounded-4 shadow-sm\">\n              <div className=\"card-body p-4\">\n                <div className=\"row g-3\">\n                  <div className=\"col-md-6\">\n                    <div className=\"position-relative\">\n                      <Search className=\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\" size={18} />\n                      <input\n                        type=\"text\"\n                        className=\"form-control form-control-lg rounded-3 ps-5\"\n                        placeholder=\"Search users by name, username, or email...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"col-md-3\">\n                    <select\n                      className=\"form-select form-select-lg rounded-3\"\n                      value={filterRole}\n                      onChange={(e) => setFilterRole(e.target.value)}\n                    >\n                      <option value=\"all\">All Roles</option>\n                      {roles.map((role) => (\n                        <option key={role.userRoleId} value={role.role.toLowerCase()}>\n                          {role.role}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"col-md-3\">\n                    <div className=\"bg-light rounded-3 p-2 text-center\">\n                      <div className=\"fw-bold text-primary\">{filteredUsers.length}</div>\n                      <div className=\"small text-muted\">Total Users</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Users Grid */}\n        <div className=\"row g-4\">\n          {currentUsers.map((user) => (\n            <div key={user.userId} className=\"col-xl-3 col-lg-4 col-md-6 col-sm-12\">\n              <div \n                className=\"card border-0 rounded-4 shadow-sm h-100 dashboard-card\" \n                style={{ cursor: 'pointer', transition: 'transform 0.2s, box-shadow 0.2s' }}\n                onClick={(e) => {\n                  // Don't open modal if clicking on dropdown\n                  if (!(e.target as HTMLElement).closest('.dropdown')) {\n                    setUserDetailModal(user);\n                  }\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.transform = 'translateY(-2px)';\n                  e.currentTarget.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.transform = 'translateY(0)';\n                  e.currentTarget.style.boxShadow = '';\n                }}\n              >\n                <div className=\"card-body p-3\">\n                  <div className=\"d-flex align-items-start justify-content-between mb-2\">\n                    <div className=\"d-flex align-items-center\">\n                      <div className=\"rounded-circle bg-primary bg-opacity-10 p-2 me-2\">\n                        <Users className=\"text-primary\" size={20} />\n                      </div>\n                      <div>\n                        <h6 className=\"fw-bold text-dark mb-0\">\n                          {user.firstName} {user.lastName}\n                        </h6>\n                        <p className=\"text-muted mb-0 small\">@{user.username}</p>\n                      </div>\n                    </div>\n                    <div className=\"dropdown\">\n                      <button\n                        className=\"btn btn-sm btn-outline-secondary rounded-3\"\n                        type=\"button\"\n                        data-bs-toggle=\"dropdown\"\n                        aria-expanded=\"false\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <MoreVertical size={16} />\n                      </button>\n                      <ul className=\"dropdown-menu dropdown-menu-end\" style={{ width: '190px' }}>\n                        <li>\n                          <button \n                            className=\"dropdown-item d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleFreezeUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              {user.isActive ? (\n                                <><Lock size={14} className=\"me-2 flex-shrink-0\" /><span>Freeze Account</span></>\n                              ) : (\n                                <><Unlock size={14} className=\"me-2 flex-shrink-0\" /><span>Unfreeze Account</span></>\n                              )}\n                            </span>\n                          </button>\n                        </li>\n                        <li>\n                          <button \n                            className=\"dropdown-item d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleEmailUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              <Mail size={14} className=\"me-2 flex-shrink-0\" /><span>Send Email</span>\n                            </span>\n                          </button>\n                        </li>\n                        <li><hr className=\"dropdown-divider\" /></li>\n                        <li>\n                          <button \n                            className=\"dropdown-item text-danger d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              confirmDeleteUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              <Trash2 size={14} className=\"me-2 flex-shrink-0\" /><span>Delete User</span>\n                            </span>\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n\n                  <div className=\"mb-2\">\n                    <span className={`badge bg-${getRoleBadgeColor(user.role)} bg-opacity-10 text-${getRoleBadgeColor(user.role)} fw-semibold small`}>\n                      {user.role}\n                    </span>\n                    {user.isActive ? (\n                      <span className=\"badge bg-success bg-opacity-10 text-success fw-semibold ms-1 small\">\n                        <CheckCircle2 size={10} className=\"me-1\" />\n                        Active\n                      </span>\n                    ) : (\n                      <span className=\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold ms-1 small\">\n                        <XCircle size={10} className=\"me-1\" />\n                        Inactive\n                      </span>\n                    )}\n                  </div>\n\n                  <div className=\"mb-2\">\n                    <div className=\"d-flex align-items-center mb-1\">\n                      <Mail className=\"text-muted me-2\" size={12} />\n                      <span className=\"small text-dark text-truncate\" style={{maxWidth: '150px'}} title={user.email}>{user.email}</span>\n                    </div>\n                    {user.phoneNumber && (\n                      <div className=\"d-flex align-items-center mb-1\">\n                        <Phone className=\"text-muted me-2\" size={12} />\n                        <span className=\"small text-dark\">{user.phoneNumber}</span>\n                      </div>\n                    )}\n                    <div className=\"d-flex align-items-center\">\n                      <Calendar className=\"text-muted me-2\" size={12} />\n                      <span className=\"small text-muted\">Joined {formatDate(user.createdAt)}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"bg-light rounded-3 p-2\">\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                      <span className=\"small fw-semibold text-muted\">Last Login</span>\n                      <span className=\"small text-dark\">{formatLastLogin(user.lastLogin)}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {filteredUsers.length === 0 && !loading && (\n            <div className=\"col-12\">\n              <div className=\"card border-0 rounded-4 shadow-sm\">\n                <div className=\"card-body p-5 text-center\">\n                  <Users size={64} className=\"text-muted mb-3 opacity-50\" />\n                  <h3 className=\"fw-bold text-muted mb-2\">No Users Found</h3>\n                  <p className=\"text-muted mb-4\">\n                    {searchTerm || filterRole !== 'all' \n                      ? 'Try adjusting your search or filter criteria.' \n                      : 'Get started by adding your first user.'}\n                  </p>\n                  {(!searchTerm && filterRole === 'all') && (\n                    <button \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={() => setShowAddUser(true)}\n                    >\n                      <UserPlus className=\"me-2\" size={18} />\n                      Add First User\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {displayTotalCount > 4 && (\n          <div className=\"d-flex justify-content-between align-items-center mt-4\">\n            <div className=\"d-flex align-items-center gap-3\">\n              <span className=\"text-muted\">\n                {hasFilters ? (\n                  `Showing ${currentUsers.length} of ${displayTotalCount} users (filtered)`\n                ) : (\n                  `Showing ${((currentPage - 1) * pageSize) + 1} to ${Math.min(currentPage * pageSize, displayTotalCount)} of ${displayTotalCount} users`\n                )}\n              </span>\n              <div className=\"d-flex align-items-center gap-2\">\n                <span className=\"text-muted small\">Users per page:</span>\n                <select \n                  className=\"form-select form-select-sm\" \n                  style={{width: 'auto'}}\n                  value={pageSize}\n                  onChange={(e) => {\n                    const newPageSize = Number(e.target.value);\n                    setPageSize(newPageSize);\n                    setCurrentPage(1);\n                    if (!hasFilters) {\n                      loadData(1, newPageSize);\n                    }\n                  }}\n                >\n                  <option value={4}>4</option>\n                  <option value={20}>20</option>\n                  <option value={50}>50</option>\n                  <option value={100}>100</option>\n                </select>\n              </div>\n            </div>\n            \n            <nav>\n              <ul className=\"pagination pagination-sm mb-0\">\n                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => {\n                      setCurrentPage(1);\n                      if (!hasFilters) {\n                        loadData(1, pageSize);\n                      }\n                    }}\n                    disabled={currentPage === 1}\n                  >\n                    <ChevronsLeft size={16} />\n                  </button>\n                </li>\n                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => {\n                      const newPage = currentPage - 1;\n                      setCurrentPage(newPage);\n                      if (!hasFilters) {\n                        loadData(newPage, pageSize);\n                      }\n                    }}\n                    disabled={currentPage === 1}\n                  >\n                    <ChevronLeft size={16} />\n                  </button>\n                </li>\n                \n                {/* Page numbers */}\n                {Array.from({ length: Math.min(5, displayTotalPages) }, (_, i) => {\n                  let pageNum: number;\n                  if (displayTotalPages <= 5) {\n                    pageNum = i + 1;\n                  } else if (currentPage <= 3) {\n                    pageNum = i + 1;\n                  } else if (currentPage >= displayTotalPages - 2) {\n                    pageNum = displayTotalPages - 4 + i;\n                  } else {\n                    pageNum = currentPage - 2 + i;\n                  }\n                  \n                  return (\n                    <li key={pageNum} className={`page-item ${currentPage === pageNum ? 'active' : ''}`}>\n                      <button \n                        className=\"page-link\" \n                        onClick={() => {\n                          setCurrentPage(pageNum);\n                          if (!hasFilters) {\n                            loadData(pageNum, pageSize);\n                          }\n                        }}\n                      >\n                        {pageNum}\n                      </button>\n                    </li>\n                  );\n                })}\n                \n                <li className={`page-item ${currentPage === displayTotalPages ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => {\n                      const newPage = currentPage + 1;\n                      setCurrentPage(newPage);\n                      if (!hasFilters) {\n                        loadData(newPage, pageSize);\n                      }\n                    }}\n                    disabled={currentPage === displayTotalPages}\n                  >\n                    <ChevronRight size={16} />\n                  </button>\n                </li>\n                <li className={`page-item ${currentPage === displayTotalPages ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => {\n                      setCurrentPage(displayTotalPages);\n                      if (!hasFilters) {\n                        loadData(displayTotalPages, pageSize);\n                      }\n                    }}\n                    disabled={currentPage === displayTotalPages}\n                  >\n                    <ChevronsRight size={16} />\n                  </button>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        )}\n\n        {/* User Detail Modal */}\n        {userDetailModal && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <div className=\"d-flex align-items-center\">\n                    <div className=\"rounded-circle bg-primary bg-opacity-10 p-2 me-3\">\n                      <Users className=\"text-primary\" size={20} />\n                    </div>\n                    <div>\n                      <h5 className=\"modal-title fw-bold mb-0\">\n                        {userDetailModal.firstName} {userDetailModal.lastName}\n                      </h5>\n                      <p className=\"text-muted small mb-0\">@{userDetailModal.username}</p>\n                    </div>\n                  </div>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={() => setUserDetailModal(null)}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  <div className=\"row g-4\">\n                    {/* Status and Role */}\n                    <div className=\"col-12\">\n                      <div className=\"d-flex gap-2 mb-3\">\n                        <span className={`badge bg-${getRoleBadgeColor(userDetailModal.role)} bg-opacity-10 text-${getRoleBadgeColor(userDetailModal.role)} fw-semibold px-3 py-2`}>\n                          <Shield size={14} className=\"me-1\" />\n                          {userDetailModal.role}\n                        </span>\n                        {userDetailModal.isActive ? (\n                          <span className=\"badge bg-success bg-opacity-10 text-success fw-semibold px-3 py-2\">\n                            <CheckCircle2 size={14} className=\"me-1\" />\n                            Active\n                          </span>\n                        ) : (\n                          <span className=\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold px-3 py-2\">\n                            <XCircle size={14} className=\"me-1\" />\n                            Inactive\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    \n                    {/* Basic Information */}\n                    <div className=\"col-md-6\">\n                      <div className=\"bg-primary bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-primary mb-3\">\n                          <Users size={16} className=\"me-2\" />\n                          Basic Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-12\">\n                            <div className=\"small text-muted\">User ID</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.userId}</div>\n                          </div>\n                          <div className=\"col-6\">\n                            <div className=\"small text-muted\">First Name</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.firstName}</div>\n                          </div>\n                          <div className=\"col-6\">\n                            <div className=\"small text-muted\">Last Name</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.lastName}</div>\n                          </div>\n                          <div className=\"col-12\">\n                            <div className=\"small text-muted\">Username</div>\n                            <div className=\"fw-semibold text-dark\">@{userDetailModal.username}</div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Contact Information */}\n                    <div className=\"col-md-6\">\n                      <div className=\"bg-info bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-info mb-3\">\n                          <Mail size={16} className=\"me-2\" />\n                          Contact Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-12\">\n                            <div className=\"d-flex align-items-center mb-3\">\n                              <Mail className=\"text-info me-3\" size={16} />\n                              <div>\n                                <div className=\"small text-muted\">Email Address</div>\n                                <div className=\"fw-semibold text-dark\">{userDetailModal.email}</div>\n                              </div>\n                            </div>\n                            {userDetailModal.phoneNumber && (\n                              <div className=\"d-flex align-items-center\">\n                                <Phone className=\"text-info me-3\" size={16} />\n                                <div>\n                                  <div className=\"small text-muted\">Phone Number</div>\n                                  <div className=\"fw-semibold text-dark\">{userDetailModal.phoneNumber}</div>\n                                </div>\n                              </div>\n                            )}\n                            {!userDetailModal.phoneNumber && (\n                              <div className=\"d-flex align-items-center\">\n                                <Phone className=\"text-muted me-3\" size={16} />\n                                <div>\n                                  <div className=\"small text-muted\">Phone Number</div>\n                                  <div className=\"text-muted\">Not provided</div>\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Activity Information */}\n                    <div className=\"col-12\">\n                      <div className=\"bg-success bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-success mb-3\">\n                          <Calendar size={16} className=\"me-2\" />\n                          Activity Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Last Login</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">{formatLastLogin(userDetailModal.lastLogin)}</div>\n                            </div>\n                          </div>\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Member Since</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">{formatDate(userDetailModal.createdAt)}</div>\n                            </div>\n                          </div>\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Account Status</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">\n                                {userDetailModal.isActive ? 'Active' : 'Inactive'}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"modal-footer border-0\">\n                  <div className=\"d-flex gap-2 w-100\">\n                    <button \n                      className=\"btn btn-outline-primary rounded-3 flex-fill\"\n                      onClick={() => {\n                        setEditUserForm({\n                          userId: userDetailModal.userId,\n                          firstName: userDetailModal.firstName,\n                          lastName: userDetailModal.lastName,\n                          username: userDetailModal.username,\n                          email: userDetailModal.email,\n                          phoneNumber: userDetailModal.phoneNumber || '',\n                          role: userDetailModal.role,\n                          isActive: true\n                        });\n                        setUserDetailModal(null);\n                        setShowEditUser(true);\n                      }}\n                    >\n                      <Edit3 size={16} className=\"me-2\" />\n                      Edit User\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Edit User Modal */}\n        {showEditUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h5 className=\"modal-title fw-bold\">Edit User</h5>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={resetEditUserModal}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {editSubmitSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Updated Successfully!</h4>\n                      <p className=\"text-muted\">The user information has been updated.</p>\n                    </div>\n                  ) : (\n                    <form onSubmit={handleEditUserSubmit}>\n                      <div className=\"row g-3\">\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">First Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.firstName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter first name\" \n                            value={editUserForm.firstName}\n                            onChange={(e) => handleEditInputChange('firstName', e.target.value)}\n                          />\n                          {editFormErrors.firstName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.firstName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Last Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.lastName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter last name\" \n                            value={editUserForm.lastName}\n                            onChange={(e) => handleEditInputChange('lastName', e.target.value)}\n                          />\n                          {editFormErrors.lastName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.lastName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Username</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.username ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter username\" \n                            value={editUserForm.username}\n                            onChange={(e) => handleEditInputChange('username', e.target.value)}\n                          />\n                          {editFormErrors.username && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.username}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Email</label>\n                          <input \n                            type=\"email\" \n                            className={`form-control rounded-3 ${editFormErrors.email ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter email address\" \n                            value={editUserForm.email}\n                            onChange={(e) => handleEditInputChange('email', e.target.value)}\n                          />\n                          {editFormErrors.email && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.email}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Phone Number</label>\n                          <input \n                            type=\"tel\" \n                            className={`form-control rounded-3 ${editFormErrors.phoneNumber ? 'is-invalid' : ''}`}\n                            placeholder=\"e.g., +1 (555) 123-4567 or 555-123-4567\" \n                            value={editUserForm.phoneNumber}\n                            onChange={(e) => handleEditInputChange('phoneNumber', e.target.value)}\n                          />\n                          {editFormErrors.phoneNumber && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.phoneNumber}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Role</label>\n                          <select \n                            className={`form-select rounded-3 ${editFormErrors.role ? 'is-invalid' : ''}`}\n                            value={editUserForm.role}\n                            onChange={(e) => handleEditInputChange('role', e.target.value)}\n                          >\n                            <option value=\"\">Select a role</option>\n                            {roles.map((role) => (\n                              <option key={role.userRoleId} value={role.role}>\n                                {role.role}\n                              </option>\n                            ))}\n                          </select>\n                          {editFormErrors.role && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.role}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n                {!editSubmitSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary rounded-3\"\n                      onClick={resetEditUserModal}\n                      disabled={isEditSubmitting}\n                    >\n                      Cancel\n                    </button>\n                    <button \n                      type=\"submit\" \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={handleEditUserSubmit}\n                      disabled={isEditSubmitting}\n                    >\n                      {isEditSubmitting ? (\n                        <>\n                          <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                          </div>\n                          Updating User...\n                        </>\n                      ) : (\n                        'Update User'\n                      )}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Add User Modal */}\n        {showAddUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h5 className=\"modal-title fw-bold\">Add New User</h5>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={resetAddUserModal}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {submitSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Created Successfully!</h4>\n                      <p className=\"text-muted\">The new user has been registered and can now login to the system.</p>\n                    </div>\n                  ) : (\n                    <form onSubmit={handleSubmitNewUser}>\n                      <div className=\"row g-3\">\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">First Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.firstName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter first name\" \n                            value={newUserForm.firstName}\n                            onChange={(e) => handleInputChange('firstName', e.target.value)}\n                          />\n                          {formErrors.firstName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.firstName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Last Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.lastName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter last name\" \n                            value={newUserForm.lastName}\n                            onChange={(e) => handleInputChange('lastName', e.target.value)}\n                          />\n                          {formErrors.lastName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.lastName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Username</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.username ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter username\" \n                            value={newUserForm.username}\n                            onChange={(e) => handleInputChange('username', e.target.value)}\n                          />\n                          {formErrors.username && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.username}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Email</label>\n                          <input \n                            type=\"email\" \n                            className={`form-control rounded-3 ${formErrors.email ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter email address\" \n                            value={newUserForm.email}\n                            onChange={(e) => handleInputChange('email', e.target.value)}\n                          />\n                          {formErrors.email && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.email}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Phone Number</label>\n                          <input \n                            type=\"tel\" \n                            className={`form-control rounded-3 ${formErrors.phoneNumber ? 'is-invalid' : ''}`}\n                            placeholder=\"e.g., +1 (555) 123-4567 or 555-123-4567\" \n                            value={newUserForm.phoneNumber}\n                            onChange={(e) => handleInputChange('phoneNumber', e.target.value)}\n                          />\n                          {formErrors.phoneNumber && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.phoneNumber}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Role</label>\n                          <select \n                            className={`form-select rounded-3 ${formErrors.role ? 'is-invalid' : ''}`}\n                            value={newUserForm.role}\n                            onChange={(e) => handleInputChange('role', e.target.value)}\n                          >\n                            <option value=\"\">Select a role</option>\n                            {roles.map((role) => (\n                              <option key={role.userRoleId} value={role.role}>\n                                {role.role}\n                              </option>\n                            ))}\n                          </select>\n                          {formErrors.role && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.role}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Password</label>\n                          <div className=\"position-relative\">\n                            <input \n                              type={showPassword ? 'text' : 'password'}\n                              className={`form-control rounded-3 pe-5 ${formErrors.password ? 'is-invalid' : ''}`}\n                              placeholder=\"Min 8 chars, 1 uppercase, 1 lowercase, 1 digit, 1 special (@$!%*?&)\" \n                              value={newUserForm.password}\n                              onChange={(e) => handleInputChange('password', e.target.value)}\n                            />\n                            <button\n                              type=\"button\"\n                              onClick={() => setShowPassword(!showPassword)}\n                              className=\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\"\n                              style={{ zIndex: 10 }}\n                            >\n                              {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                            </button>\n                            {formErrors.password && (\n                              <div className=\"invalid-feedback d-flex align-items-center\">\n                                <AlertCircle size={16} className=\"me-1\" />\n                                {formErrors.password}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Confirm Password</label>\n                          <div className=\"position-relative\">\n                            <input \n                              type={showReEnterPassword ? 'text' : 'password'}\n                              className={`form-control rounded-3 pe-5 ${formErrors.reEnterPassword ? 'is-invalid' : ''}`}\n                              placeholder=\"Re-enter password\" \n                              value={newUserForm.reEnterPassword}\n                              onChange={(e) => handleInputChange('reEnterPassword', e.target.value)}\n                            />\n                            <button\n                              type=\"button\"\n                              onClick={() => setShowReEnterPassword(!showReEnterPassword)}\n                              className=\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\"\n                              style={{ zIndex: 10 }}\n                            >\n                              {showReEnterPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                            </button>\n                            {formErrors.reEnterPassword && (\n                              <div className=\"invalid-feedback d-flex align-items-center\">\n                                <AlertCircle size={16} className=\"me-1\" />\n                                {formErrors.reEnterPassword}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n                {!submitSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary rounded-3\"\n                      onClick={resetAddUserModal}\n                      disabled={isSubmitting}\n                    >\n                      Cancel\n                    </button>\n                    <button \n                      type=\"submit\" \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={handleSubmitNewUser}\n                      disabled={isSubmitting}\n                    >\n                      {isSubmitting ? (\n                        <>\n                          <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                          </div>\n                          Creating User...\n                        </>\n                      ) : (\n                        'Create User'\n                      )}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Delete Confirmation Modal */}\n        {showDeleteConfirm && deletingUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)', position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', zIndex: 1050}}>\n            <div className=\"modal-dialog modal-dialog-centered\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h3 className=\"modal-title fw-bold text-danger\">\n                    {deleteSuccess ? 'User Deleted' : 'Confirm Deletion'}\n                  </h3>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={() => {\n                      setShowDeleteConfirm(false);\n                      setDeletingUser(null);\n                      setDeleteSuccess(false);\n                    }}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {deleteSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Deleted Successfully!</h4>\n                      <p className=\"text-muted\">\n                        <strong>{deletingUser.firstName} {deletingUser.lastName}</strong> has been permanently removed.\n                      </p>\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-4\">\n                      <AlertTriangle size={64} className=\"text-warning mb-3\" />\n                      <h4 className=\"fw-bold\">Are you sure you want to delete this user?</h4>\n                      <div className=\"bg-light rounded-3 p-3 my-3\">\n                        <h5 className=\"fw-bold text-dark mb-1\">{deletingUser.firstName} {deletingUser.lastName}</h5>\n                        <p className=\"text-muted small mb-1\">\n                          <Mail className=\"me-1\" size={14} />\n                          {deletingUser.email}\n                        </p>\n                        <p className=\"text-muted small mb-0\">\n                          <Shield className=\"me-1\" size={14} />\n                          Role: {deletingUser.role}\n                        </p>\n                      </div>\n                      <p className=\"text-danger small fw-semibold\">\n                         This action cannot be undone. All user data and permissions will be permanently removed.\n                      </p>\n                    </div>\n                  )}\n                </div>\n                {!deleteSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      onClick={() => {\n                        setShowDeleteConfirm(false);\n                        setDeletingUser(null);\n                      }}\n                      className=\"btn btn-secondary rounded-3 fw-semibold\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      onClick={handleDeleteUser}\n                      className=\"btn btn-danger rounded-3 fw-semibold d-flex align-items-center\"\n                    >\n                      <Trash2 className=\"me-2\" size={16} />\n                      Delete User\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}